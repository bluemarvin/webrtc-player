ROKU_PLATFORM = $(ROKU_NDK)/platforms/Roku2
ROKU_TOOLCHAIN := $(ROKU_PLATFORM)/toolchain
ROKU_TOOLPREFIX := arm-linux
CXX = $(ROKU_TOOLCHAIN)/bin/$(ROKU_TOOLPREFIX)-g++
CC = $(ROKU_TOOLCHAIN)/bin/$(ROKU_TOOLPREFIX)-gcc
AR = $(ROKU_TOOLCHAIN)/bin/$(ROKU_TOOLPREFIX)-ar

CFLAGS = \
-I../../dist/system_wrappers \
-D_FILE_OFFSET_BITS=64 \
-mcpu=arm1176jzf-s \
-Wno-psabi \
-ffunction-sections \
-fdata-sections \
-fvisibility=hidden \
-Wall \
-DMOZ_GLUE_IN_PROGRAM \
-DMOZILLA_MEDIA_STANDALONE \
-DUSE_FAKE_MEDIA_STREAMS \
-DUSE_FAKE_PCOBSERVER \
-DAB_CD=en-US \
-DNO_NSPR_10_SUPPORT \
-fPIC \
-DBUILD_PLATFORM_ROKU2 \
-DROKU \
-DLINUX \
-DMOZILLA_INTERNAL_API \
-DMOZILLA_XPCOMRT_API \
-idirafter $(ROKU_PLATFORM)/include \
-idirafter $(ROKU_PLATFORM)/usr/include \
-DMOZILLA_CLIENT \
-MD \
-MP \
-DBUILD_PLATFORM_ROKU2 \
-Wall \
-Wpointer-arith \
-Woverloaded-virtual \
-Werror=int-to-pointer-cast \
-Werror=type-limits \
-Wempty-body \
-Wsign-compare \
-Wno-invalid-offsetof \
-fvisibility-inlines-hidden \
-mcpu=arm1176jzf-s \
-Wno-psabi \
-Wno-uninitialized \
-Wno-type-limits \
-U_FORTIFY_SOURCE \
-fno-short-enums \
-fno-strict-aliasing \
-fno-rtti \
-fno-exceptions \
-fno-math-errno \
-std=gnu++0x \
-pthread \
-pipe \
-DNDEBUG \
-DTRIMMED \
-c \
-O3 \
-fomit-frame-pointer

LFLAGS = \
-fvisibility-inlines-hidden \
-Wl,--allow-shlib-undefined \
-L$(GECKO_OBJ)/dist/lib \
-L$(ROKU_PLATFORM)/lib \
-L$(ROKU_PLATFORM)/usr/lib \
-L$(ROKU_PLATFORM)/toolchain/arm-brcm-linux-gnueabi/sys-root/usr/lib \
-Wl,-z,noexecstack \
-Wl,-z,text \
-Wl,--build-id \
-Wl,-Bstatic -lssl \
-lcryptohi \
-Wl,-Bstatic -lplc4 \
-Wl,-Bstatic -lnspr4 \
-Wl,-Bstatic -lcertdb \
-Wl,-Bstatic -lcerthi \
-Wl,-Bstatic -lpkixpki \
-Wl,-Bstatic -lpkixtop \
-Wl,-Bstatic -lpkixchecker \
-Wl,-Bstatic -lpkixstore \
-Wl,-Bstatic -lpkixcrlsel \
-Wl,-Bstatic -lpkixpki \
-Wl,-Bstatic -lpkixresults \
-Wl,-Bstatic -lpkixutil \
-Wl,-Bstatic -lpkixparams \
-Wl,-Bstatic -lpkixcertsel \
-Wl,-Bstatic -lpkixsystem \
-Wl,-Bstatic -lpkixchecker \
-Wl,-Bstatic -lpkixmodule \
-Wl,-Bstatic -lnsspki \
-Wl,-Bstatic -lnssdev \
-Wl,-Bstatic -lnssb \
-Wl,-Bstatic -lnss \
-Wl,-Bstatic -lpk11wrap \
-Wl,-Bstatic -lcerthi \
-Wl,-Bstatic -lsmime \
-Wl,-Bstatic -lnssutil \
-Wl,-Bstatic -lplds4 \
-Wl,-Bstatic -lplc4 \
-Wl,-Bstatic -lfreebl \
-fvisibility-inlines-hidden \
-Wl,--gc-sections \
-Wl,--copy-dt-needed-entries \
-Wl,-rpath,\$$ORIGIN/./lib \
-Wl,--disable-new-dtags \
-Wl,-rpath-link,$(ROKU_PLATFORM)/usr/lib \
-Wl,-rpath-link,\$$ORIGIN/./lib \
-Wl,-Bdynamic -lpthread \
-Wl,-Bdynamic -lc\
-Wl,-Bdynamic -lrt \
-Wl,-Bdynamic -lRokuNDK \
-Wl,-Bdynamic -lEGL \
-Wl,-Bdynamic -lGLESv2 \
-Wl,--no-as-needed \
-rdynamic \
-lmozalloc \
-ldl

